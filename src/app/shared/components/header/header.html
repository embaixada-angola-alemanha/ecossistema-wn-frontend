<!-- Top bar -->
<div class="topbar">
  <div class="topbar__container">
    <span class="topbar__edition">{{ 'header.edition' | translate }} &mdash; {{ today() }}</span>
    <div class="topbar__actions">
      <a href="/api/v1/feed/rss" target="_blank" class="topbar__link" title="RSS">
        <span class="material-icons-outlined">rss_feed</span>
      </a>
      @for (lang of languages; track lang.code) {
        <button
          class="topbar__lang"
          [class.topbar__lang--active]="langService.currentLang() === lang.code"
          (click)="langService.setLang(lang.code)">
          {{ lang.code | uppercase }}
        </button>
      }
    </div>
  </div>
</div>

<!-- Masthead -->
<header class="masthead">
  <div class="masthead__container">
    <a routerLink="/" class="masthead__brand">
      <img src="assets/images/welwitschia-logo.png" alt="Welwitschia NotÃ­cias" class="masthead__logo-img">
    </a>

    <form class="masthead__search" (submit)="$event.preventDefault()">
      <input
        type="search"
        class="masthead__search-input"
        [placeholder]="'search.placeholder' | translate"
        [(ngModel)]="searchQuery">
      <a [routerLink]="['/pesquisa']" [queryParams]="{q: searchQuery()}"
         class="masthead__search-btn">
        <span class="material-icons-outlined">search</span>
      </a>
    </form>

    <button class="masthead__hamburger" (click)="toggleMenu()" [attr.aria-expanded]="menuOpen()">
      <span class="material-icons-outlined">{{ menuOpen() ? 'close' : 'menu' }}</span>
    </button>
  </div>
</header>

<!-- Category navigation bar -->
<nav class="catnav" [class.catnav--open]="menuOpen()">
  <div class="catnav__container">
    <a routerLink="/" routerLinkActive="catnav__link--active" [routerLinkActiveOptions]="{exact: true}"
       class="catnav__link">{{ 'nav.home' | translate }}</a>
    @for (cat of categories(); track cat.id) {
      <a [routerLink]="['/categoria', cat.slug]" routerLinkActive="catnav__link--active"
         class="catnav__link">
        {{ langService.getLocalizedField(cat, 'nome') }}
      </a>
    }
    <a routerLink="/arquivo" routerLinkActive="catnav__link--active"
       class="catnav__link">{{ 'nav.archive' | translate }}</a>
  </div>
</nav>
